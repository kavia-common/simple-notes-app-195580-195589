{"is_source_file": true, "format": "Python", "description": "This is the main application source file for a FastAPI-based backend service that manages notes. It defines API endpoints for health checks, CRUD operations for notes, and database setup, utilizing SQLAlchemy for ORM and dependency injection for database sessions.", "external_files": ["src/db.py", "src/models.py", "src/schemas.py"], "external_methods": ["src.db.get_db"], "published": ["health_check", "health_check_db", "list_notes", "create_note", "get_note", "update_note", "delete_note"], "classes": [{"name": "Note", "description": "SQLAlchemy model representing a note entity."}], "methods": [{"name": "None _startup_create_tables()", "description": "Creates database tables at startup if they do not exist, using SQLAlchemy's metadata.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,str] health_check()", "description": "Health check endpoint providing a simple status message.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] health_check_db(db: Session = Depends(get_db))", "description": "Database health endpoint that runs a lightweight query to verify connectivity.", "scope": "", "scopeKind": ""}, {"name": "List[NoteOut] list_notes(db: Session = Depends(get_db))", "description": "Retrieves all notes from the database, ordered by most recent.", "scope": "", "scopeKind": ""}, {"name": "NoteOut create_note(payload: NoteCreate, db: Session = Depends(get_db))", "description": "Creates a new note with provided title and content.", "scope": "", "scopeKind": ""}, {"name": "NoteOut get_note(note_id: int, db: Session = Depends(get_db))", "description": "Fetches a single note by ID, raises 404 if not found.", "scope": "", "scopeKind": ""}, {"name": "NoteOut update_note(note_id: int, payload: NoteUpdate, db: Session = Depends(get_db))", "description": "Updates an existing note by ID with provided data.", "scope": "", "scopeKind": ""}, {"name": "Response delete_note(note_id: int, db: Session = Depends(get_db))", "description": "Deletes a note by ID.", "scope": "", "scopeKind": ""}], "calls": ["Base.metadata.create_all", "db.execute", "db.query", "db.get", "db.add", "db.commit", "db.refresh", "db.delete"], "search-terms": ["FastAPI", "Notes API", "CRUD operations", "PostgreSQL", "SQLAlchemy", "Health check", "Notes endpoints"], "state": 2, "file_id": 3, "knowledge_revision": 18, "git_revision": "f0b3a7508ea68cce8115da9f03cb8b2edf709145", "revision_history": [{"9": "a73aa2f34f6ce2d2d829df8ea74308f210eaedb5"}, {"14": "259bf64826dc3115a1f74dce100016980d1baa60"}, {"18": "f0b3a7508ea68cce8115da9f03cb8b2edf709145"}], "ctags": [{"_type": "tag", "name": "_startup_create_tables", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def _startup_create_tables() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "create_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def create_note(payload: NoteCreate, db: Session = Depends(get_db)) -> NoteOut:$/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "(payload: NoteCreate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "delete_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def delete_note(note_id: int, db: Session = Depends(get_db)) -> Response:$/", "language": "Python", "typeref": "typename:Response", "kind": "function", "signature": "(note_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "get_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def get_note(note_id: int, db: Session = Depends(get_db)) -> NoteOut:$/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "(note_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def health_check() -> Dict[str, str]:$/", "language": "Python", "typeref": "typename:Dict[str,str]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "health_check_db", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def health_check_db(db: Session = Depends(get_db)) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(db: Session = Depends(get_db))"}, {"_type": "tag", "name": "list_notes", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def list_notes(db: Session = Depends(get_db)) -> List[NoteOut]:$/", "language": "Python", "typeref": "typename:List[NoteOut]", "kind": "function", "signature": "(db: Session = Depends(get_db))"}, {"_type": "tag", "name": "openapi_tags", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^openapi_tags = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def update_note(note_id: int, payload: NoteUpdate, db: Session = Depends(get_db)) -> NoteOut:$/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "(note_id: int, payload: NoteUpdate, db: Session = Depends(get_db))"}], "hash": "de5fadb650ccf9bb45b7dc5862a2e5ba", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/api/main.py", "fields": [{"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "openapi_tags = [", "scope": "", "scopeKind": "", "description": "unavailable"}]}
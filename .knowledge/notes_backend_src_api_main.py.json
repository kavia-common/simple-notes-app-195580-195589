{"is_source_file": true, "format": "Python", "description": "This is a FastAPI-based backend API implementation for a simple notes application. It includes endpoints for health checks, database connectivity validation, and CRUD operations for notes, as well as CORS middleware configuration.", "external_files": ["src/db", "src/models", "src.schemas"], "external_methods": ["src.db.Base", "src.db.engine", "src.db.get_db"], "published": ["health_check", "health_check_db", "list_notes", "create_note", "get_note", "update_note", "delete_note"], "classes": [], "methods": [{"name": "List[str] _parse_allowed_origins()", "description": "Parses environment variable ALLOWED_ORIGINS to determine allowed CORS origins.", "scope": "", "scopeKind": ""}, {"name": "str|None _parse_allowed_origin_regex()", "description": "Returns a regex string for allowed origins based on environment variable ALLOWED_ORIGIN_REGEX or default patterns.", "scope": "", "scopeKind": ""}, {"name": "JSONResponse _unhandled_exception_handler(request: Request, exc: Exception)", "description": "Global exception handler that sends JSON responses for unhandled exceptions.", "scope": "", "scopeKind": ""}, {"name": "None _startup_create_tables()", "description": "Creates database tables at startup if they do not exist, with exception handling to prevent startup failure.", "scope": "", "scopeKind": ""}, {"name": "NoteOut create_note(payload: NoteCreate, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Response delete_note(note_id: int, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "NoteOut get_note(note_id: int, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str,str] health_check()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str,Any] health_check_db(db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[NoteOut] list_notes(db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "NoteOut update_note(note_id: int, payload: NoteUpdate, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["db.execute", "db.query", "db.get", "db.add", "db.commit", "db.refresh", "db.delete"], "search-terms": ["FastAPI notes API", "Database health check", "CRUD notes endpoints", "CORS middleware configuration", "SQLAlchemy session", "Notes model"], "state": 2, "file_id": 3, "knowledge_revision": 21, "git_revision": "6155faabff2a01faf5cb682628825b4763147be0", "revision_history": [{"9": "a73aa2f34f6ce2d2d829df8ea74308f210eaedb5"}, {"14": "259bf64826dc3115a1f74dce100016980d1baa60"}, {"18": "f0b3a7508ea68cce8115da9f03cb8b2edf709145"}, {"20": "6155faabff2a01faf5cb682628825b4763147be0"}, {"21": "6155faabff2a01faf5cb682628825b4763147be0"}], "ctags": [{"_type": "tag", "name": "_parse_allowed_origin_regex", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def _parse_allowed_origin_regex() -> str | None:$/", "language": "Python", "typeref": "typename:str|None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_parse_allowed_origins", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def _parse_allowed_origins() -> List[str]:$/", "language": "Python", "typeref": "typename:List[str]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_startup_create_tables", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def _startup_create_tables() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_unhandled_exception_handler", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^async def _unhandled_exception_handler(request: Request, exc: Exception) -> JSONResponse:$/", "language": "Python", "typeref": "typename:JSONResponse", "kind": "function", "signature": "(request: Request, exc: Exception)"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "create_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def create_note(payload: NoteCreate, db: Session = Depends(get_db)) -> NoteOut:$/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "(payload: NoteCreate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "delete_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def delete_note(note_id: int, db: Session = Depends(get_db)) -> Response:$/", "language": "Python", "typeref": "typename:Response", "kind": "function", "signature": "(note_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "get_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def get_note(note_id: int, db: Session = Depends(get_db)) -> NoteOut:$/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "(note_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def health_check() -> Dict[str, str]:$/", "language": "Python", "typeref": "typename:Dict[str,str]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "health_check_db", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def health_check_db(db: Session = Depends(get_db)) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(db: Session = Depends(get_db))"}, {"_type": "tag", "name": "list_notes", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def list_notes(db: Session = Depends(get_db)) -> List[NoteOut]:$/", "language": "Python", "typeref": "typename:List[NoteOut]", "kind": "function", "signature": "(db: Session = Depends(get_db))"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^logger = logging.getLogger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "openapi_tags", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^openapi_tags = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195580-195589/notes_backend/src/api/main.py", "pattern": "/^def update_note(note_id: int, payload: NoteUpdate, db: Session = Depends(get_db)) -> NoteOut:$/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "(note_id: int, payload: NoteUpdate, db: Session = Depends(get_db))"}], "hash": "5b9eefe36e5c108a02dc38ecaf1c01c3", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/api/main.py", "fields": [{"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "logger = logging.getLogger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "openapi_tags = [", "scope": "", "scopeKind": "", "description": "unavailable"}]}